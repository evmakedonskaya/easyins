!function(t){"function"==typeof define&&define.amd?define("settings",t):t()}(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function e(e,n){return function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,i,r,o,c=[],s=!0,l=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=r.call(n)).done)&&(c.push(a.value),c.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return c}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){var n;function a(t){t.parent(".js-wpshop-settings-tabs").find("li").removeClass("active"),t.addClass("active")}function i(e){t(".js-wpshop-settings-tab").hide().promise().done(function(){e.fadeIn(250,function(){document.dispatchEvent(new CustomEvent("wpshop_settings:show_tab_content",{detail:{tab:e.attr("id")}}))})})}function r(){return"undefined"!=typeof localStorage||(console.warn("Unable to use local storage in current browser"),!1)}!function(){var n=function(e){try{var n=t('.js-wpshop-settings-tabs li[data-tab="'+e+'"]'),r=t(e);if(n.length&&r.length)return a(n),i(r),!0}catch(t){console.warn(t)}return!1};if(window.location.hash.length&&n(window.location.hash))return;var o=function(t){if(r())return localStorage.getItem(t);return null}(e.storage_key);o&&n(o)}(),t(".js-wpshop-settings-color-picker").wpColorPicker({clear:function(e){t(e.target).data("custom_trigger_change")||t(e.target).trigger("change"),document.dispatchEvent(new CustomEvent("wpshop_settings_trigger_update_preview",{detail:{e:e}}))},change:function(e,a){clearTimeout(n),n=setTimeout(function(){t(e.target).trigger("change")},200),document.dispatchEvent(new CustomEvent("wpshop_settings_color_picker_change",{detail:{e:e,ui:a}}))}}),t(document).on("click",".js-wpshop-settings-tabs li",function(n){var o=t(n.currentTarget);if(!o.hasClass("active")){var c,s,l=o.data("tab");a(o),i(t(l)),c=e.storage_key,s=l,r()&&localStorage.setItem(c,s)}}),t(document).on("click",".js-wpshop-settings-welcome-close",function(n){t(n.target).parent().fadeOut(150),t.ajax(ajaxurl,{data:{action:e.actions.hide_welcome}})}),t(document).on("click",".js-wpshop-settings-remove-license",function(n){n.preventDefault(),confirm(t(n.target).data("message"))&&t.ajax(ajaxurl,{data:{action:e.actions.remove_license}}).done(function(t){t.success?window.location.reload():alert(t.data.map(function(t){return t.message}).join("\n"))})}),t(document).on("change","input,select,textarea",function(){var e=t(".js-wpshop-settings-container-save");e.data("handled_sticky")||(!function(t,e,n){if(!t.length)return;var a=t[0].getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight;a.top>i?e():a.bottom>i&&n()}(e.find("button"),function(){e.hide().css("position","sticky").slideDown(200)},function(){e.css("position","sticky")}),e.css("position","sticky"),e.data("handled_sticky",1))})}jQuery(function(t){for(var n,a="abc-pagination-settings",i={"abc-pagination-letters":{"--abc-pagination-letters-gap":"letters_gap","--abc-pagination-letters-padding":"letters_padding","--abc-pagination-letters-background":"letters_background","--abc-pagination-letters-justify-content":"letters_justify_content","--abc-pagination-letters-border-radius":"letters_border_radius","--abc-pagination-letter-padding":"letter_padding","--abc-pagination-letter-color":"letter_color","--abc-pagination-letter-background":"letter_background","--abc-pagination-letter-hover-color":"letter_hover_color","--abc-pagination-letter-hover-background":"letter_hover_background","--abc-pagination-letter-border":"letter_border_width,letter_border_style,letter_border_color","--abc-pagination-letter-font-weight":"letter_font_weight","--abc-pagination-letter-font-size":"letter_font_size","--abc-pagination-letter-border-radius":"letter_border_radius"},"abc-pagination-post-list":{"--abc-pagination-tab-letter-width":"tab_letter_width","--abc-pagination-tab-letter-margin":"tab_letter_margin","--abc-pagination-tab-letter-padding":"tab_letter_padding","--abc-pagination-tab-letter-font-weight":"tab_letter_font_weight","--abc-pagination-tab-letter-font-size":"tab_letter_font_size","--abc-pagination-tab-letter-text-align":"tab_letter_text_align","--abc-pagination-tab-letter-color":"tab_letter_color","--abc-pagination-tab-letter-background":"tab_letter_background","--abc-pagination-tab-letter-border-radius":"tab_letter_border_radius","--abc-pagination-posts-columns":"posts_columns","--abc-pagination-posts-columns-mobile":"posts_columns_mobile","--abc-pagination-posts-gap":"posts_gap","--abc-pagination-posts-title-font-weight":"posts_title_font_weight"}},r={letter_hover_effect:{target:".js-abc-pagination-admin-preview .abc-pagination-letters",handle:function(e,n){n.find("option").each(function(){e.removeClass("abc-pagination-letters--hover-"+t(this).attr("value")),console.log("abc-pagination-letters--hover-"+t(this).attr("value"))}),n.val()&&e.addClass("abc-pagination-letters--hover-"+n.val())}}},o=function(){var n=e(s[c],2),i=n[0],r=n[1],o=t('*[name="'+a+"["+i+']"]');r.handle(t(r.target),o),o.change(function(){r.handle(t(r.target),t(this))})},c=0,s=Object.entries(r);c<s.length;c++)o();t(".js-abc-pagination-admin-preview").each(function(){var r=t(this);if(void 0!==i[r.attr("id")]){var o,c=function(n){function r(e){var n=t('input[name="'+a+"["+e+']"],select[name="'+a+"["+e+']"],textarea[name="'+a+"["+e+']"]');return n.length&&n.val()&&n.val().length?n.val():null}var o={"--abc-pagination-letter-border":function(t){var e=!0,n="letter_border_width letter_border_style letter_border_color";return t.forEach(function(t){var a=r(t);null!==a?("letter_border_width"===t&&(isNaN(a)||(a+="px")),n=n.replace(t,a)):e=!1}),e?n:null}};return function(){n.find("style").remove();var a=t("<style>");a.prependTo(n);for(var c="\n",s=0,l=Object.entries(i[n.attr("id")]);s<l.length;s++){var u=e(l[s],2),d=u[0],g=u[1],p=null;p=void 0!==o[d]?o[d](g.split(",").map(function(t){return t.trim()})):r(g),null!==p&&(c+=d+":"+p+";\n")}a.append(n.data("selector")+"{"+c+"}")}}(r),s=function(){clearTimeout(o),o=setTimeout(c,50)};c(),document.addEventListener("wpshop_settings_trigger_update_preview",c);for(var l=0,u=Object.entries(i[r.attr("id")]);l<u.length;l++){var d=e(u[l],2);d[0];d[1].split(",").map(function(t){return t.trim()}).forEach(function(e){var i=t('input[name="'+a+"["+e+']"],select[name="'+a+"["+e+']"],textarea[name="'+a+"["+e+']"]');i.length&&(i.change(s),i.on("keyup",function(){clearTimeout(n),n=setTimeout(c,300)}))})}}})}),jQuery(function(t){var n={defaults:{},presets:{}};try{"undefined"!=typeof abcPaginationPresetData&&(n=JSON.parse(abcPaginationPresetData))}catch(t){console.error(t)}function a(){var e={};return t("#tab-appearance").find("input,select,textarea").each(function(n,a){var r=t(a),o=r.attr("name");o&&(r.is(":checkbox")?e[i(o)]=r.is(":checked")?1:0:e[i(o)]=r.val())}),e}function i(t){var e=t.match(/(?!\[)[^\[\]]+(?=\])/g);return null!==e&&e.length?e[0]:t}t(document).on("click",".js-abc-pagination-preset",function(a){a.preventDefault();var i=t(a.currentTarget).data("name");if(void 0!==n.presets[i])for(var r=t.extend({},n.defaults,n.presets[i]),o=0,c=Object.entries(r);o<c.length;o++){var s=e(c[o],2),l=s[0],u=s[1],d=t("#tab-appearance").find('*[name="abc-pagination-settings['+l+']"]');d.length&&(d.data("custom_trigger_change",1),d.val(u).trigger("change"),d.removeData("custom_trigger_change"))}}),t(document).on("click",".js-abc-pagination-save-preset",function(e){e.preventDefault();var n=t(e.currentTarget),i=prompt("Enter preset name");t.ajax({method:"POST",url:ajaxurl,data:{action:"abc_pagination_save_preset",preset:{name:i,values:a()}},beforeSend:function(){n.attr("disabled",!0)}}).done(function(t){t.success||alert(t.data.map(function(t){return t.message}).join("\n"))}).always(function(){n.attr("disabled",!1)})})}),jQuery(function(t){n(t,window.abc_pagination_settings_globals||{storage_key:"wpshop-settings-tabs",actions:{}}),document.addEventListener("wpshop_settings:show_tab_content",function(e){if("tab-css"===e.detail.tab){var n=t(".js-abc-pagination-css-editor");n.data("has_code_editor")||(wp.codeEditor.initialize(n,window.abc_pagination_settings||{}),n.data("has_code_editor",1))}});var e=window.abc_pagination_messages||{viewTypeWithLetterList:""};t(document).on("change","input[data-expand]",function(e){var n=t(e.target),a=t(n.data("expand"));a.length&&n.is(":checkbox")&&(n.is(":checked")?a.slideDown(150):a.slideUp(150))}),t(document).on("click",".js-abc-pagination--show_letters",function(n){var a=t(n.currentTarget),i=t(".js-abc-pagination--type");if("list"!==i.val()){var r=e.viewTypeWithLetterList.replace("{{viewType}}",i.find("option:selected").text());!a.is(":checked")&&confirm(r)&&n.preventDefault()}})})});