!function(t){"function"==typeof define&&define.amd?define("scripts",t):t()}(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=Array(e);a<e;a++)n[a]=t[a];return n}function e(e,a){return function(t){if(Array.isArray(t))return t}(e)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var n,i,r,o,c=[],l=!0,s=!1;try{if(r=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;l=!1}else for(;!(l=(n=r.call(a)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(t){s=!0,i=t}finally{try{if(!l&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(e,a)||function(e,a){if(e){if("string"==typeof e)return t(e,a);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,a):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}jQuery(function(t){for(var a,n="abc-pagination-settings",i={"abc-pagination-letters":{"--abc-pagination-letters-gap":"letters_gap","--abc-pagination-letters-padding":"letters_padding","--abc-pagination-letters-background":"letters_background","--abc-pagination-letters-justify-content":"letters_justify_content","--abc-pagination-letters-border-radius":"letters_border_radius","--abc-pagination-letter-padding":"letter_padding","--abc-pagination-letter-color":"letter_color","--abc-pagination-letter-background":"letter_background","--abc-pagination-letter-hover-color":"letter_hover_color","--abc-pagination-letter-hover-background":"letter_hover_background","--abc-pagination-letter-border":"letter_border_width,letter_border_style,letter_border_color","--abc-pagination-letter-font-weight":"letter_font_weight","--abc-pagination-letter-font-size":"letter_font_size","--abc-pagination-letter-border-radius":"letter_border_radius"},"abc-pagination-post-list":{"--abc-pagination-tab-letter-width":"tab_letter_width","--abc-pagination-tab-letter-margin":"tab_letter_margin","--abc-pagination-tab-letter-padding":"tab_letter_padding","--abc-pagination-tab-letter-font-weight":"tab_letter_font_weight","--abc-pagination-tab-letter-font-size":"tab_letter_font_size","--abc-pagination-tab-letter-text-align":"tab_letter_text_align","--abc-pagination-tab-letter-color":"tab_letter_color","--abc-pagination-tab-letter-background":"tab_letter_background","--abc-pagination-tab-letter-border-radius":"tab_letter_border_radius","--abc-pagination-posts-columns":"posts_columns","--abc-pagination-posts-columns-mobile":"posts_columns_mobile","--abc-pagination-posts-gap":"posts_gap","--abc-pagination-posts-title-font-weight":"posts_title_font_weight"}},r={letter_hover_effect:{target:".js-abc-pagination-admin-preview .abc-pagination-letters",handle:function(e,a){a.find("option").each(function(){e.removeClass("abc-pagination-letters--hover-"+t(this).attr("value")),console.log("abc-pagination-letters--hover-"+t(this).attr("value"))}),a.val()&&e.addClass("abc-pagination-letters--hover-"+a.val())}}},o=function(){var a=e(l[c],2),i=a[0],r=a[1],o=t('*[name="'+n+"["+i+']"]');r.handle(t(r.target),o),o.change(function(){r.handle(t(r.target),t(this))})},c=0,l=Object.entries(r);c<l.length;c++)o();t(".js-abc-pagination-admin-preview").each(function(){var r=t(this);if(void 0!==i[r.attr("id")]){var o,c=function(a){function r(e){var a=t('input[name="'+n+"["+e+']"],select[name="'+n+"["+e+']"],textarea[name="'+n+"["+e+']"]');return a.length&&a.val()&&a.val().length?a.val():null}var o={"--abc-pagination-letter-border":function(t){var e=!0,a="letter_border_width letter_border_style letter_border_color";return t.forEach(function(t){var n=r(t);null!==n?("letter_border_width"===t&&(isNaN(n)||(n+="px")),a=a.replace(t,n)):e=!1}),e?a:null}};return function(){a.find("style").remove();var n=t("<style>");n.prependTo(a);for(var c="\n",l=0,s=Object.entries(i[a.attr("id")]);l<s.length;l++){var u=e(s[l],2),d=u[0],g=u[1],p=null;p=void 0!==o[d]?o[d](g.split(",").map(function(t){return t.trim()})):r(g),null!==p&&(c+=d+":"+p+";\n")}n.append(a.data("selector")+"{"+c+"}")}}(r),l=function(){clearTimeout(o),o=setTimeout(c,50)};c(),document.addEventListener("wpshop_settings_trigger_update_preview",c);for(var s=0,u=Object.entries(i[r.attr("id")]);s<u.length;s++){var d=e(u[s],2);d[0];d[1].split(",").map(function(t){return t.trim()}).forEach(function(e){var i=t('input[name="'+n+"["+e+']"],select[name="'+n+"["+e+']"],textarea[name="'+n+"["+e+']"]');i.length&&(i.change(l),i.on("keyup",function(){clearTimeout(a),a=setTimeout(c,300)}))})}}})}),jQuery(function(t){var a={defaults:{},presets:{}};try{"undefined"!=typeof abcPaginationPresetData&&(a=JSON.parse(abcPaginationPresetData))}catch(t){console.error(t)}function n(){var e={};return t("#tab-appearance").find("input,select,textarea").each(function(a,n){var r=t(n),o=r.attr("name");o&&(r.is(":checkbox")?e[i(o)]=r.is(":checked")?1:0:e[i(o)]=r.val())}),e}function i(t){var e=t.match(/(?!\[)[^\[\]]+(?=\])/g);return null!==e&&e.length?e[0]:t}t(document).on("click",".js-abc-pagination-preset",function(n){n.preventDefault();var i=t(n.currentTarget).data("name");if(void 0!==a.presets[i])for(var r=t.extend({},a.defaults,a.presets[i]),o=0,c=Object.entries(r);o<c.length;o++){var l=e(c[o],2),s=l[0],u=l[1],d=t("#tab-appearance").find('*[name="abc-pagination-settings['+s+']"]');d.length&&(d.data("custom_trigger_change",1),d.val(u).trigger("change"),d.removeData("custom_trigger_change"))}}),t(document).on("click",".js-abc-pagination-save-preset",function(e){e.preventDefault();var a=t(e.currentTarget),i=prompt("Enter preset name");t.ajax({method:"POST",url:ajaxurl,data:{action:"abc_pagination_save_preset",preset:{name:i,values:n()}},beforeSend:function(){a.attr("disabled",!0)}}).done(function(t){t.success||alert(t.data.map(function(t){return t.message}).join("\n"))}).always(function(){a.attr("disabled",!1)})})}),jQuery(function(t){var e,a=window.abc_pagination_ajax||{},n=window.abc_pagination_messages||{viewTypeWithLetterList:""},i="abc-pagination-settings-tab";function r(t){t.parent(".js-wpshop-settings-tabs").find("li").removeClass("active"),t.addClass("active")}function o(e){t(".js-wpshop-settings-tab").hide(),e.show(),document.dispatchEvent(new CustomEvent("abc_pagination:show_tab_content",{detail:{tab:e.attr("id")}}))}function c(){return"undefined"!=typeof localStorage||(console.warn("Unable to use local storage in current browser"),!1)}t(".js-abc-pagination-color-picker").wpColorPicker({clear:function(e){t(e.target).data("custom_trigger_change")||t(e.target).trigger("change"),document.dispatchEvent(new CustomEvent("abc_pagination_trigger_update_preview"))},change:function(a,n){clearTimeout(e),e=setTimeout(function(){t(a.target).trigger("change")},200),document.dispatchEvent(new CustomEvent("abc_pagination_color_picker_change",{detail:{e:a,ui:n}}))}}),t(document).on("abc_pagination:show_tab_content",function(e){if("tab-css"===e.detail.tab){var a=t(".js-abc-pagination-css-editor");a.data("has_code_editor")||(wp.codeEditor.initialize(a,window.abc_pagination_settings||{}),a.data("has_code_editor",1))}}),t(document).on("change","input,select,textarea",function(){var e,a,n,i,r,o=t(".js-wpshop-settings-container-save");o.data("handled_sticky")||(e=o.find("button"),a=function(){o.hide().css("position","sticky").slideDown(200)},n=function(){o.css("position","sticky")},i=e[0].getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,i.top>r?a():i.bottom>r&&n(),o.css("position","sticky"),o.data("handled_sticky",1))}),function(){var e=function(e){try{var a=t('.js-wpshop-settings-tabs li[data-tab="'+e+'"]'),n=t(e);if(a.length&&n.length)return r(a),o(n),!0}catch(t){console.warn(t)}return!1};if(window.location.hash.length&&e(window.location.hash))return;var a=function(t){if(c())return localStorage.getItem(t);return null}(i);a&&e(a)}(),t(document).on("click",".js-wpshop-settings-tabs li",function(e){var a,n,l=t(e.currentTarget),s=l.data("tab");r(l),o(t(s)),a=i,n=s,c()&&localStorage.setItem(a,n)}),t(document).on("change","input[data-expand]",function(e){var a=t(e.target),n=t(a.data("expand"));n.length&&a.is(":checkbox")&&(a.is(":checked")?n.slideDown(150):n.slideUp(150))}),t(document).on("click",".js-abc-pagination--show_letters",function(e){var a=t(e.currentTarget),i=t(".js-abc-pagination--type");if("list"!==i.val()){var r=n.viewTypeWithLetterList.replace("{{viewType}}",i.find("option:selected").text());!a.is(":checked")&&confirm(r)&&e.preventDefault()}}),t(document).on("click",".js-abc-pagination-welcome-close",function(e){t(e.target).parent().fadeOut(150),t.ajax(a.url,{data:{action:"abc_pagination_hide_welcome"}})})})});